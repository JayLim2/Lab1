<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Добавление Книги</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script type="text/javascript">
    </script>
    <link type="text/css" rel="stylesheet" href="../static/css/main.css" th:href="@{/css/main.css}"/>

</head>
<body>
<div class="mainBox">
    <div class="leftSide">
        <p> А тут менюшка</p><br>
        <ul>
            <li><a href="/books">Тут книги</a></li>
            <li><a href="/authors">А тут авторы</a></li>
            <li><a href="/publishers">А тут издатели</a></li>
            <li sec:authorize = "!isAuthenticated()">
                <a href="/login">А тут можно залогиниться</a>    
                </li>
                <li sec:authorize = "isAuthenticated()">
                    logged as: <span sec:authentication = "name"></span> 
                </li>
                <li sec:authorize = "isAuthenticated()">
                    <a href="/logout">разлогиниться</a>
                </li>
        </ul>
    </div>
    <div class="rightSide">
        <div class="header">
            <p>Тут будет тобешь заголовок</p>
        </div>

        <div th:switch="${submitAddStatus}">
            <div th:case="'1'" class="error">
                Такая книга уже существует, либо нарушены ограничения БД.
            </div>
            <div th:case="'2'" class="error">
                Год должен быть не менее 0 и не более текущего.
            </div>
            <div th:case="'3'" class="error">
                Год должен быть числом.
            </div>
            <div th:case="'4'" class="error">
                Название книги не может быть пустым.
            </div>
            <div th:case="'5'" class="error">
                Неизвестная ошибка сервера.
            </div>
            <div th:case="'7'" class="error">
                Списки авторов или идателей изменились.
            </div>
        </div>

        <form id="editForm" action="submitAdd" method="POST">
            <input class="inputField" type="text" id="booktitle" name="booktitle" placeholder="booktitle"
                   th:value="${bookTitle}"><br>
            <input class="inputField" type="text" id="publishYear" name="publishYear" placeholder="publishYear"
                   th:value="${publishYear}"><br>
            <input class="inputField" type="text" id="brief" name="brief" placeholder="brief" th:value="${brief}"><br>
            <select class = "inputField" name="publisher">
                <option th:each="publisher : ${publishers}" th:value="${publisher.publisherID}"
                        th:label="${publisher.publisherName}" th:selected='${publisher.equals(bpublisher)}'></option>
            </select><br>
            <select  class = "inputField" name="author" multiple>
                <option th:each="author : ${authors}" th:value="${author.authorID}" th:label="${author.authorName}"
                        th:selected="${bauthors != null} ? ${#lists.contains(bauthors, author)}"></option>
            </select><br>
            <input type="submit" value="submit">
        </form>
    </div>
</div>
</body>
</html>